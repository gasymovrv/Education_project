# Продвинутый HTML

## Понятие и способы вёрстки.

#### Табличная
+ Все на основе тэга table
```html
   <table>
       <tr>
           <th></th>
           <th></th>
       </tr>
       <tr>
           <td></td>
           <td></td>
       </tr>
   </table>
```
+ Преимущества (относительно блочной): 
    + Легко представить упорядоченные данные в строках и столбцах
    + Ячейки таблиц выравниваются по сетке, что позволяет простым и очевидным образом создать модульную сетку
    + Легко реализовать резиновые сайты (все размеры в процентах)
+ Недостатки:
    + Табличная верстка неадапитруема под разные экраны, т.к. структура таблицы не меняется (только уменьшение/увеличение)
    + Хуже индексируется поисковиками чем блочная верстка
    + Медленне загружается, т.к. не отрисуется пока не загрузится вся таблица (блоки рисуются независимо)

#### Блочная
+ Все на основе тэга div
```html
   <div>
       <div>
           <div></div>
           <div></div>
       </div>
   </div>
```
+ Преимущества (относительно табличной): 
    + Блок можно позиционировать, менять ему размеры независимо от других блоков
    + Легко адаптируется под разные экраны за счет возможности по разному выстраивать блоки
    + Сайт с такой версткой быстрее загружается и лучше индексируется чем табличная верстка
+ Недостатки:
    + Сложнее верстать табличные данные (тут лучше использовать табличную верстку или ```display:table```)
    
#### Флекс
+ Прописывается css-свойство ```display: flex``` или разновидность флексбоксов - грид (```display: grid```)
+ Позволяют выстраивать разнообразные сетки и колонки без особых усилий. 
+ Поддерживается вертикальная центровка, которую не поддерживает обычный блок.


#### Фиксированная
+ Вне зависимости от размеров окна браузера или устройства ширина страниц будет постоянной. 
+ Все элементы занимают строго определенную ширину в пикселях на странице. 
+ Если разрешение экрана большое и окно браузера развернуто на весь экран, то, как правило, по бокам остается свободное место. 
+ И наоборот, на мобильных устройствах при фиксированной верстке снизу на странице появляется полоса прокрутки.

#### Резиновая
+ Все размеры в %

#### Адаптивная
+ Адаптируется под разные устройства

#### Семантическая
 + Именованные тэги (начиная с HTML5)
 + Полезна для людей с ограниченными возможностями - при работе с программами распознования тэгов
 + Лучше индексируется поисковиками


## Кросбраузерная верстка
1. Как определить что верстка кроссбраузерная
    + Есть какие-то ресурсы для валидации html сразу во множестве браузеров
    + https://caniuse.com/ - тут можно посмотреть поддержку различных технологий браузерами
    + Префиксы в стилях. 
    Для включения в браузер экспериментальных свойств CSS, которые стандартом ещё не утверждены, их добавляют с префиксами.
    Затем когда свойство проходит тесты и его вписывают в стандарт, оно появляется в браузере без префикса 
    (однако некоторые брузеры отстают и в них префиксы могут остаться, а обычное свойство не будет работать) 
        ```
        -webkit-: браузеры Chrome, Safari, Opera;
        -moz-: браузер Mozilla Firefox;
        -ms-: браузер Internet Explorer.
        ```
        Пример (обязательно сначала свойства с префиксами):
        ```css
          .example {
            -webkit-user-select: none;
               -moz-user-select: none;
                -ms-user-select: none;
                    user-select: none;
          }
        ```
    + Спецификация HTML/CSS
1. Как узнать в каких браузерах проверять работу верстки
    + Должен быть документ "матрица браузеров", в которой указаны используемые браузеры 
1. Моя последовательность действий:
    1. Сверстаю под самый старый браузер из матрицы браузеров
    1. Проверю в этом браузере
    1. Проверю во всех остальных браузерах из списка
    1. Установлю требуемые ОС на ВМ и/или эмуляторы мобильных устройств и проверю на них
    1. Если есть разночтения в отображении - согласую с заказчиком максимально допустимые


------------------------------------------------------------------------------------------------------------------------


# Продвинутый CSS

## Задание значений свойств стилей (цвет, размер, строка и т.д.)
+ Цвет
    + По шестнадцатеричному значению
        + В формате ```#rrggbb```.
          Каждый из трёх цветов — красный, зелёный и синий — может принимать значения от 00 (0 по десятичной) до FF (255 по десятичной).
          Например: ```#666999```.
          Допускается использовать сокращенную форму вида ```#rgb```, где каждый символ следует удваивать.
    + По названию: ```white```, ```silver```, ```gray``` и т.д.
    + В формате RGB
        + Значения красной, зелёной и синей составляющей в десятичном исчислении.
        Например: ```rgb(255, 255, 255)``` = ```#ffffff``` = ```#fff``` = ```white```
    + В формате RGBA
        + То же что и RGB, но включает в себя альфа-канал, задающий прозрачность элемента (0 - полная прозрачность, 1 — непрозрачность).
        Например: ```rgba(255, 255, 255, 0.5)```
    + В формате HSL
        + Hue (оттенок), Saturate (насыщенность) и Lightness (светлота):
            + Оттенок - это значение цвета на цветовом круге и задаётся в градусах. 0° соответствует красному цвету, 120° — зелёному, а 240° — синему. Значение оттенка может изменяться от 0 до 359.
            + Насыщенность - это интенсивность цвета, измеряется в процентах от 0% до 100%. Значение 0% обозначает отсутствие цвета и оттенок серого, 100% максимальное значение насыщенности.
            + Светлота - это насколько цвет яркий и указывается в процентах от 0% до 100%. Малые значения делают цвет темнее, а высокие светлее, крайние значения 0% и 100% соответствуют чёрному и белому цвету.
        + Пример: ```hsl(0,0%,100%)``` = ```white```, ```hsl(0,0%,0%)``` = ```black```, ```hsl(240,100%,50%)``` = ```blue```
    + В формате HSLA - аналог rgba, только для hsl
+ Размер
    + Относительные единицы
        + Для текста 
            + ```em``` - Размер шрифта текущего элемента. 
            ```1em``` равен размеру шрифта, заданного в браузере по умолчанию или размеру шрифта родительского элемента. 
            Запись ```1em``` равна ```100%```.
            + ```ex``` - Высота символа x, зависимости от родителей такие же как у em
            + ```ch``` - Ширина символа 0 текущего элемента, зависимости от родителей такие же как у em
            + ```rem``` - Размер шрифта корневого элемента.
                + Разница между em и rem следующая: 
                em зависит от размера шрифта родителя элемента и меняется вместе с ним, 
                а rem привязан к корневому элементу, 
                т. е. размеру шрифта заданного для элемента html.
        + Размеры элементов
            + ```vw``` - 1% от ширины области просмотра
            + ```vh``` - 1% от высоты области просмотра
            + ```vmin``` - 1% от меньшего значения из ширины и высоты области просмотра
            + ```vmax``` - 1% от большего значения из ширины и высоты области просмотра
    + Абсолютные единицы
        + ```px``` - Пиксель
        + ```in``` - Дюйм (1 дюйм равен 2,54 см)
        + ```cm``` - Сантиметр
        + ```mm``` - Миллиметр
        + ```pt``` - Пункт (1 пункт равен 1/72 дюйма)
        + ```pc``` - Пика (1 пика равна 12 пунктам)
+ Строка
    + Любые строки необходимо брать в двойные или одинарные кавычки. Если внутри строки требуется оставить одну или несколько кавычек, то можно комбинировать типы кавычек или добавить перед кавычкой обратную косую черту.
    + Переносы строк не разрешены, но можно добавить перевод с помощью шестнадцатеричного символа юникода \A или \00000a.
+ Угол
    + В градусах. После значения пишется ```deg```. Полный круг равен ```360deg```.
    + В градах. Обозначается как ```grad```. Полный круг равен ```400grad```,
    + В радианах. Обозначается как ```rad```. Полный круг равен 2π или примерно ```6.2832rad```.
    + В поворотах. Обозначается как ```turn```. Один круг равен одному повороту и пишется как ```1turn``` (0.5turn = 180deg).
    + Пример:
    ```css
    body { 
    background: #b3dced;
    background: linear-gradient(-45deg, #b3dced, #29b8e5 50%, #bce0ee);
    }
    ```
+ Число, например высота строки:
    ```css
        h1 { line-height: 1.1; } 
        p { line-height: 2; }
    ```
+ Время
    + Значение состоит из целого или дробного числа, за которым сразу же следует символ ```s``` для секунд или ```ms``` для миллисекунд.
+ Проценты
    + Процентная запись обычно применяется в тех случаях, 
    когда надо изменить значение относительно родительского элемента или 
    когда размеры зависят от внешних условий. 
    Так, ширина таблицы 100% означает, 
    что она будет подстраиваться под размеры окна браузера и меняться вместе с шириной окна.
+ Адрес
    + Адреса применяются для указания пути к файлу, например, 
    для установки фоновой картинки на странице. 
    Для этого применяется ключевое слово ```url()```, внутри скобок пишется относительный или абсолютный адрес файла. 
    При этом адрес можно задавать в необязательных одинарных или двойных кавычках.
    ```css
    body { 
        background: url(http://webref.ru/example/image/bg.jpg) no-repeat; 
    }
    ```

## Селекторы тэгов, классов, идентификаторов, атрибутов, контекстные, соседние, дочерние и т.д.

+ Селекторы тэгов, классов, идентификаторов, атрибутов
    + ```*``` – любые элементы.
    + ```div``` – элементы с таким тегом.
    + ```#id``` – элемент с данным id.
    + ```.class``` – элементы с таким классом.
    + ```:visited``` – «псевдоклассы», остальные разные условия на элемент (см. далее).
    + ```[name="value"]``` – селекторы на атрибут (см. далее).

+ Отношения (контекстные, дочерние, соседние):
    + ```div p``` – элементы p, являющиеся потомками div.
    + ```div > p``` – только непосредственные потомки
    + ```div ~ p``` – правые соседи: все p на том же уровне вложенности, которые идут после div.
    + ```div + p``` – первый правый сосед: p на том же уровне вложенности, который идёт сразу после div (если есть).

+ Псевдоклассы
    + ```:not(селектор)``` – все, кроме подходящих под селектор.
    + ```:focus``` – в фокусе.
    + ```:hover``` – под мышью.
    + ```:empty``` – без детей (даже без текстовых).
    + ```:checked```, ```:disabled```, ```:enabled``` – состояния INPUT.
    + ```:target``` – этот фильтр сработает для элемента, ID которого совпадает с анкором #... текущего URL.
        + Например, если на странице есть элемент с ```id="intro"```, то правило ```:target { color: red }``` подсветит его в том случае, если текущий URL имеет вид ```http://...#intro```.
    + Фильтр по месту среди соседей:
        + ```:first-child``` – первый потомок своего родителя.
        + ```:last-child``` – последний потомок своего родителя.
        + ```:only-child``` – единственный потомок своего родителя, соседних элементов нет.
        + ```:nth-child(a)``` – потомок номер a своего родителя, например :nth-child(2) – второй потомок. Нумерация начинается с 1.
        + ```:nth-child(an+b)``` – расширение предыдущего селектора через указание номера потомка формулой, где a,b – константы, а под n подразумевается любое целое число (от 0 до ...).
            + Этот псевдокласс будет фильтровать все элементы, которые попадают под формулу при каком-либо n. Например: -:nth-child(2n) даст элементы номер 2, 4, 6…, то есть чётные.
                + ```:nth-child(2n+1)``` даст элементы номер 1, 3…, то есть нечётные.
                + ```:nth-child(3n+2)``` даст элементы номер 2, 5, 8 и так далее.
        + ```:nth-last-child(a)```, ```:nth-last-child(an+b)``` – то же самое, но отсчёт начинается с конца, например :nth-last-child(2) – второй элемент с конца.
    + Фильтр по месту среди соседей с тем же тегом.
    Аналогичные псевдоклассы, которые учитывают не всех соседей, а только с тем же тегом:
        + ```:first-of-type```
        + ```:last-of-type```
        + ```:only-of-type```
        + ```:nth-of-type```
        + ```:nth-last-of-type```
    
+ Селекторы атрибутов
    + На атрибут целиком:
        + ```[attr]``` – атрибут установлен,
        + ```[attr="val"]``` – атрибут равен val.
    + На начало атрибута:
        + ```[attr^="val"]``` – атрибут начинается с val, например "value".
        + ```[attr|="val"]``` – атрибут равен val или начинается с val-, например равен "val-1".
    + На содержание:
        + ```[attr*="val"]``` – атрибут содержит подстроку val, например равен "myvalue".
        + ```[attr~="val"]``` – атрибут содержит val как одно из значений через пробел.
        Например: ```[attr~="delete"]``` верно для "edit delete" и неверно для "undelete" или "no-delete".
    + На конец атрибута:
        + ```[attr$="val"]``` – атрибут заканчивается на val, например равен "myval".

+ Псевдоэлементы ::before, ::after
    + «Псевдоэлементы» – различные вспомогательные элементы, которые браузер записывает или может записать в документ.
    + При помощи псевдоэлементов ::before и ::after можно добавлять содержимое в начало и конец элемента:
        ```css
        li::before {
        content: " [[ ";
        }
        
        li::after {
        content: " ]] ";
        }
        ```

## Методологии CSS

+ БЭМ
    + Основная концепция – легкая поддержка проектов со временем и повторное использование компонентов.
    + Название означает «Блок, элемент, модификатор»
        + ```блоки``` - могут использоваться в нескольких местах сайта;
        + ```элементы``` - являются частью блока и не имеют функционального смысла вне блока;
        + ```модификаторы``` - представляют собой свойства блока или элемента, которые меняют его внешний вид или поведение.
    + **Хорошо:** 
        + Отсутствие непредсказуемых каскадов селекторов
        + Проект становится более масштабируемый (к тому же можно менять тэги, т.к. БЭМ к ним не привязывается)
        + БЭМ легче кастомизировать и повторно использовать
        + Изолированность блоков друг от друга - их можно переносить в разные места и при этом не сломать общую структуру
    + **Плохо:** 
        + Не всегда длинные названия классов удобны для использования
        + Не используется вся мощь css в виде наследований и каскадов
    + Примеры:
    ```css
        .block_element {...}
        .block_element-modifier {...}
    ```
    ```html
    <form class="form form_type_original" action="/">
      <input class="form__search" name="s">
      <input class="form__submit" type="submit">
    </form>
    ```
    Запись "form form_type_original" говорит о том, что блоку form присвоен модификатор type со значением original

+ AMCSS
    + Модули атрибутов для CSS (Attribute Modules for CSS) - является несколько более человеко-читаемым представлением БЭМ-структуры.
    + Пример преобразования БЭМ методологии к AMCSS:
        + БЭМ:
        ```html
        <style>
              .button {...}
              .button--large {...}
              .button--blue{...}
        </style>
        <div class="button button--large button--blue">Кнопка</div>
        ```
        + AMCSS:
        ```html
        <style>
              [data-button] {...}
              [data-button~="large"] {...}
              [data-button~="blue"]{...}
        </style>
        <div data-button="large blue">Кнопка</div>
        ```

+ Atomic CSS
    + При использовании такого подхода для каждого повторно используемого свойства должен быть сформирован отдельный класс. 
    Пример: стиль ```margin-top: 1px``` предполагает создание класса ```mt-1```, 
    стиль ```width: 200px``` создание класса ```w-200```. 
    + **Хорошо:** 
        + Возможность повторного использования деклараций
        + Минимизируется объем CSS-кода за счет повторного использования деклараций
    + **Плохо:**
        + Наименования классов представляют собой описательные названия свойств, не описывая семантическую сущность элемента, что иногда может усложнить разработку;
        + Настройки отображения элементов переносятся непосредственно в HTML (это не то, для чего были придуманы таблицы стилей, не так ли?).

+ SMACSS
    + 5 слоев стилей:
        + ```Base rules``` — базовые стили. Это стили основных элементов сайта — ```body, input, button, ul, ol``` и т.п. В этой секции используются в основном селекторы тэгов и атрибутов, классы — в исключительных случаях (например, если у вас стилизованные JavaScript’ом селекты);
        + ```Layout rules``` — стили макета. Здесь находятся стили глобальных элементов размеры шапки, футера, сайдбара и т.п. Джонатан предлагает использовать здесь id в селекторах, так как эти элементы не будут встречаться более 1 раза на странице.
        + ```Modules rules``` — стили модулей, то есть блоков, которые могут использоваться несколько раз на одной странице. Для классов модулей не рекомендуется использовать id и селекторы тэгов (для многократного использования и независимости от контекста соответственно).
        + ```State rules``` — стили состояния. В этом разделе прописываются различные состояния модулей и скелета сайта - ```.is-hidden```. Это единственный раздел, в котором допустимо использование ключевого слова «!important».
        + ```Theme rules``` — оформление. Здесь описываются стили оформлений, которые со временем, возможно, нужно будет заменить (так удобно делать, например, новогоднее оформление; для html-тем, выставленных на продажу такие стили позволяют переключать цветовую гамму и т.п.).
    + **Хорошо:** 
        + Возможность повторного использования
        + Расширяемый код

+ FUN - смесь БЭМ и SMACSS

+ OOCSS
    + Объектно-ориентированный CSS (Object-Oriented CSS)
    + Заложены две основные идеи:
        + Разделение структуры и оформления
        + Разделение контейнера и контента (содержимого)
    + **Хорошо:** уменьшение количества кода за счет повторного его использования (принцип DRY).
    + **Плохо:** достаточно сложная поддержка: при изменении стиля конкретного элемента скорее всего придется менять не только CSS (т.к. большинство классов общие), но и добавлять классы в разметку.
    + Кроме того, сам подход OOCSS предлагает не конкретные правила, а абстрактные рекомендации, поэтому метод достаточно сложен для применения на практике. 

+ MCSS
    + Многослойный CSS (Multilayer CSS)
    + ```Нулевой слой или фундамент``` — здесь содержится код, отвечающий за сброс стилей браузера (reset.css/normalize.css);
    + ```Базовый слой``` — включает в себя стили многократно используемых на сайте элементов: кнопок, полей ввода для текста, подсказок и т.п.;
    + ```Проектный слой``` — включает в себя отдельные модули, а также т.н. «контекст» — модификации элементов в зависимости от браузера клиента, устройства, на котором просматривается сайт/приложение, роли пользователя и т.п.;
    + ```Косметический слой``` — в этом разделе находится код, написанный в стиле OOCSS, осуществляющий мелкие изменения в внешнем виде элементов. Здесь рекомендуется оставлять только стили, влияющие на внешний вид и не способные поломать верстку сайта — цвета, некоторые некритичные отступы.

+ ECSS

## CSS модули

+ Импортируется и юзается:
    ```jsx harmony
    import styles from './GlobalSelectors.css';
    <div className={ styles.root }>
    ```

+ При сборке webpack будет создавать уникальные имена классов, например ```GlobalSelectors__root___xFJPw```. Вырезка из настроек webpack:
    ```js
    module.exports = {
        module: {
        loaders: [
          { test: /\.css$/, loader: ExtractTextPlugin.extract('style-loader', 'css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!postcss-loader') },
        ]
        }
    }
    ```

+ Global:
    + CSS
        ```css
        .root {
          border-width: 2px;
          border-style: solid;
          border-color: brown;
        }
        
        .root2 :global .text {
          color: brown;
          font-size: 24px;
        }
        ```
    + JS/JSX
        ```jsx harmony
        <div className={ styles.root }>
            <div className={styles.root2}>
                <p className="text">Global Selectors</p>
            </div>
        </div>
        ```

+ Импорт внутри css (composes - ключевое слово):
    + Где юзается импорт:
        ```css
        .root {
          composes: box from "shared/styles/layout.css";
          border-color: red;
        }
        ```
    + Импортируемое:
        ```css
        .box {
          border-width: 2px;
          border-style: solid;
        }
        ```


## CSS3-анимация

+ Чтобы создать CSS-анимацию Вы должны добавить в стиль элемента, который хотите анимировать, 
свойство ```animation``` или его подсвойства.  
Это позволит Вам настроить ускорение и продолжительность анимации, а также другие детали того, как анимация должна протекать. 

+ Внешний вид анимации настраивается с помощью ```@keyframes```

+ Пример. Тэг <p> сдвигается вправо и возвращается:
```css
p {
  animation-duration: 3s;
  animation-name: slidein;
}

@keyframes slidein {
  from {
    margin-left: 100%;
    width: 300%; 
  }

  to {
    margin-left: 0%;
    width: 100%;
  }
}
```